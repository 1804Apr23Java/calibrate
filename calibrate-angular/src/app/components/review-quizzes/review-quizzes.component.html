<!-- REVIEW PREVIOUS QUIZZES CONTENT -->

<!-- Review Previous Quizzes Header Bar -->
<div class="h4 user-view-header">
  <p>
    <span class="fa fa-history quiz-header-icon"></span>
    <span>Review Previous Quizzes</span>
  </p>
</div>

<!-- List of all Previous Quizzes -->
<ul class="list-group">
  <li *ngFor="let attempt of attemptsList" (click)="setChosenLibrary(attempt)" class="list-group-item d-flex justify-content-between align-items-center list-as-link"  data-toggle="modal" data-target="#reviewQuizModal">
    <!-- *ngFor for each library found -->
    <span>
      <span class="h3">{{attempt.name}}</span>
      <br>
      <small>{{attempt.createdDate | date: short }}</small>
      <br>
      <small>Size: {{attempt.questions.length}} questions</small>
    </span>
    <!-- Generate appropriate circle color with TypeScript -->
    <span class="fa fa-circle fa-4x previous-quiz-score-circle">
      <span class="previous-quiz-score">{{attempt.numCorrect / attempt.numberOfQuestions | percent}}</span>
    </span>
  </li>
</ul>

<!-- END REVIEW PREVIOUS QUIZZES CONTENT -->

<!-- REVIEW QUIZ MODAL -->

<!-- Modal -->
<div class="modal fade" id="reviewQuizModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Review Quiz</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div *ngIf="chosenAttempt" class="modal-body">
          
          <p>{{chosenAttempt.name}}</p>
          <p>Score is {{chosenAttempt.numCorrect / chosenAttempt.numberOfQuestions | percent}}</p>
          <div *ngFor="let question of chosenAttempt.questions; let i = index">
            <p>Question {{i+1}}</p>
            <p>{{question.value}}</p>
            <div *ngFor="let answer of question.answers">
              <p>{{answer.value}}</p>
              <p>{{answer.isCorrect}}</p>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  
<!-- END REVIEW QUIZ MODAL -->